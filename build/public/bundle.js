(()=>{"use strict";var e={477:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.Results=void 0,function(e){e.CACHE_USED="CACHE_USED",e.CACHE_NOT_USED="CACHE_NOT_USED",e.CACHE_UPDATE_ERROR="CACHE_UPDATE_ERROR",e.CACHE_UPDATED="CACHE_UPDATED",e.BAD_INPUT="BAD_INPUT",e.BAD_URL="BAD_URL",e.VALIDATION_STEP_ERROR="VALIDATION_STEP_ERROR",e.GOOD_URL_VALIDATION="GOOD_URL_VALIDATION",e.GOOD_URL_SERVER="GOOD_URL_SERVER",e.SFTP_FILE="SFTP_FILE",e.SFTP_FOLDER="SFTP_FOLDER",e.SERVER_ERROR="SERVER_ERROR"}(s||(t.Results=s={}))},262:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CacheService=void 0;class s{constructor(){this.cache=new Map}static getInstance(){return s.instance||(s.instance=new s),s.instance}set(e,t){this.cache.set(e,t)}containsKey(e){return this.cache.has(e)}get(e){return this.cache.get(e)}}t.CacheService=s},306:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FTPMockService=void 0;const n=s(728);t.FTPMockService=class{static isFolder(e){return n.RegexService.validateOne("^ftp://([^s/]+/)+$",e)}static isFile(e){return!this.isFolder(e)}}},728:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegexService=void 0,t.RegexService=class{static validateOne(e,t){return new RegExp(e).test(t)}}},939:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractStep=void 0,t.AbstractStep=class{constructor(e){this.isLast=!1,this.nextStep=e}}},224:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cacheCheck=void 0;const n=s(477),r=s(939),c=s(262);class i extends r.AbstractStep{constructor(e,t){super(e),this.nextStep=e,this.isLast=t}next(e,t){try{const s=c.CacheService.getInstance();return s.containsKey(e)?(s.get(e).unshift(n.Results.CACHE_USED.toString()),s.get(e)):this.nextStep.next(e,t)}catch(e){return t.push(n.Results.VALIDATION_STEP_ERROR.toString()),t}}}t.cacheCheck=i},731:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CacheUpdate=void 0;const n=s(477),r=s(262),c=s(939);class i extends c.AbstractStep{constructor(e,t){super(e),this.nextStep=e,this.isLast=t}next(e,t){try{return r.CacheService.getInstance().set(e,t),t.push(n.Results.CACHE_UPDATED.toString()),this.isLast?t:this.nextStep.next(e,t)}catch(e){return t.push(n.Results.CACHE_UPDATE_ERROR.toString()),t}}}t.CacheUpdate=i},960:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ServerPollTest=void 0;const n=s(477),r=s(939),c=s(306);class i extends r.AbstractStep{constructor(e,t){super(e),this.nextStep=e,this.isLast=t}next(e,t){try{return c.FTPMockService.isFolder(e)?t.push(n.Results.SFTP_FOLDER.toString()):t.push(n.Results.SFTP_FILE.toString()),this.isLast?t:this.nextStep.next(e,t)}catch(e){return t.push(n.Results.VALIDATION_STEP_ERROR.toString()),t}}}t.ServerPollTest=i},358:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UrlValidationStep=void 0;const n=s(939),r=s(477),c=s(728);class i extends n.AbstractStep{constructor(e,t){super(e),this.nextStep=e,this.isLast=t}next(e,t){try{const s=this.validateHTTP(e);return s&&1!=this.isLast?(t.push(r.Results.GOOD_URL_VALIDATION.toString()),this.nextStep.next(e,t)):s&&1==this.isLast?(t.push(r.Results.GOOD_URL_VALIDATION.toString()),t):(t.push(r.Results.BAD_INPUT.toString()),t)}catch(e){return t.push(r.Results.SERVER_ERROR.toString()),t}}validateHTTP(e){return c.RegexService.validateOne("^(https?|ftp):\\/\\/([a-zA-Z0-9]+\\.)+[a-zA-Z]{2,}(:\\d+)?(\\/\\S*)?$",e)}}t.UrlValidationStep=i},145:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasicFlow=void 0;const n=s(224),r=s(731),c=s(960),i=s(358);t.BasicFlow=class{static flow(){const e=new r.CacheUpdate(null,!0),t=new c.ServerPollTest(e,!1),s=new i.UrlValidationStep(t,!1);return new n.cacheCheck(s,!1)}}},732:(e,t,s)=>{t.tf=void 0;const n=s(145);function r(){const e=document.getElementById("textBox");if(null!==e){const s=e.value,n=(0,t.tf)(s);console.log("Validation result: ",n)}}t.tf=e=>n.BasicFlow.flow().next(e,[]),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("textBox");null!==e&&e.addEventListener("input",r)}))}},t={};!function s(n){var r=t[n];if(void 0!==r)return r.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,s),c.exports}(732)})();